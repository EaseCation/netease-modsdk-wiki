# 1.25

温馨提示，预计在11月26日，全渠道更新1.25版本玩家包体，玩家将陆续更新到1.25版本，请开发者合理安排更新节奏。



2021.11.18：版本号（v1.25 BE1.16.203）

- 新增重大功能介绍

1.自定义生物AI

- 可在脚本层扩展生物AI，实现更多的生物表现。

  详见<a href="../../../mcguide/20-玩法开发/15-自定义游戏内容/3-自定义生物/01-自定义基础生物.html#_11-自定义生物行为" rel="noopenner"> 自定义生物行为 </a>，举例详见[离线包](#demo离线包下载)中的CustomEntityMod。

2.虚拟世界支持微软原版模型

- 可更便捷实现回合制或小场景玩法。

    详见[ModelCreateMinecraftObject](../接口/虚拟世界/模型.md#modelcreateminecraftobject)以及[ModelUpdateAnimationMolangVariable](../接口/虚拟世界/模型.md#modelupdateanimationmolangvariable)，举例详见[离线包](#demo离线包下载)中的VirtualWorldDemo。

3.结构体功能拓展

- 结构体支持旋转，可旋转90，180，270度
- 支持使用PlaceStructure或通过结构特征json旋转

    详见[PlaceStructure](../接口/世界/地图.md#placestructure) 或 <a href="../../../mcguide/20-玩法开发/15-自定义游戏内容/4-自定义维度/4-自定义特征.html" rel="noopenner"> 结构特征json旋转方式 </a>

4.自定义维度拓展

- 自定义维度新增netease:ban_vanilla_feature,可让该维度禁止生成原版feature,可用于解决类似空岛生存天空悬浮结构问题

    详见<a href="../../../mcguide/20-玩法开发/15-自定义游戏内容/4-自定义维度/1-自定义维度.html" rel="noopenner"> 自定义维度 </a>

5.支持按维度独立设置天气，详见[天气](../接口/世界/天气.html)

6.新增后处理功能，可实现高斯模糊、颜色矫正、景深、镜头污迹等效果，详见[后处理](../接口/后处理/索引.html)

- 新增

1. 自定义方块实体外观<a href="../../../mcguide/20-玩法开发/15-自定义游戏内容/2-自定义方块/4.1-自定义方块实体外观.html#_1-2-方块实体的多面向" rel="noopenner"> 支持多面向 </a>

1. 自定义方块增加<a href="../../../mcguide/20-玩法开发/15-自定义游戏内容/2-自定义方块/1-JSON组件.html#netease-on-entity-inside" rel="noopenner"> netease:on_entity_inside </a>、netease:on_step_on、netease:on_step_off组件

1. 自定义物品增加<a href="../../../mcguide/20-玩法开发/15-自定义游戏内容/1-自定义物品/1-自定义基础物品.html#netease-enchant-material" rel="noopenner"> netease:enchant_material组件 </a>

1. UI新增<a href="../../../mcguide/18-界面与交互/30-UI说明文档.html#neteasecombobox" rel="noopenner"> 单选下拉框控件 </a>

1. 新增[GetCustomGoalCls](../接口/实体/行为.md#getcustomgoalcls)(服务端)， 增加获取自定义行为节点基类的接口<!--by syy-->

1. 新增[SetEnableReconnectNetgame](../接口/通用/调试.md#setenablereconnectnetgame)(客户端)， 设置是否允许断线重连<!--by guanmingyu-->

1. 新增[SetResourceFastload](../接口/通用/调试.md#setresourcefastload)(客户端)， 设置资源快速加载<!--by jishaobin-->

1. 新增[GetResourceFastload](../接口/通用/调试.md#getresourcefastload)(客户端)， 获取资源快速加载设置<!--by jishaobin-->

1. 新增[GetEnableReconnectNetgame](../接口/通用/调试.md#getenablereconnectnetgame)(客户端)， 获取是否允许断线重连<!--by guanmingyu-->

1. 新增[OpenInventoryGui](../接口/原生UI.md#openinventorygui)(客户端)， 打开原版背包界面<!--by hdy-->

1. 新增[CreateEngineEffectBind](../接口/特效/模型特效.md#createengineeffectbind)(客户端)， 指用编辑器保存资源包中models/bind/xxx_bind.json生成编辑好的所有挂点的所有特效<!--by cyk-->

1. 新增[RegisterOnStandOn](../事件/方块.md#registeronstandon)(服务端)， 可以动态注册与修改原版方块的netease:on_stand_on组件(服务端接口)<!--by likaiyu-->

1. 新增[UnRegisterOnStandOn](../事件/方块.md#unregisteronstandon)(服务端)， 可以动态删除原版方块的netease:on_stand_on组件(服务端接口)<!--by likaiyu-->

1. 新增[RegisterOnStepOn](../事件/方块.md#registeronstepon)(服务端)， 可以动态注册与修改原版方块的netease:on_step_on组件(服务端接口)<!--by likaiyu-->

1. 新增[UnRegisterOnStepOn](../事件/方块.md#unregisteronstepon)(服务端)， 可以动态删除原版方块的netease:on_step_on组件(服务端接口)<!--by likaiyu-->

1. 新增[RegisterOnStepOff](../事件/方块.md#registeronstepoff)(服务端)， 可以动态注册与修改原版方块的netease:on_step_off组件(服务端接口)<!--by likaiyu-->

1. 新增[UnRegisterOnStepOff](../事件/方块.md#unregisteronstepoff)(服务端)， 可以动态删除原版方块的netease:on_step_off组件(服务端接口)<!--by likaiyu-->

1. 新增[RegisterOnEntityInside](../事件/方块.md#registeronentityinside)(服务端)， 可以动态注册与修改原版方块的netease:on_entity_inside组件(服务端接口)<!--by likaiyu-->

1. 新增[UnRegisterOnEntityInside](../事件/方块.md#unregisteronentityinside)(服务端)， 可以动态删除原版方块的netease:on_entity_inside组件(服务端接口)<!--by likaiyu-->

1. 新增[SetDimensionUseLocalWeather](../接口/世界/天气.md#setdimensionuselocalweather)(服务端)， 设置某个维度拥有自己的天气规则，开启后该维度可以拥有与其他维度不同的天气和天气更替的规则<!--by hdy-->

1. 新增[GetDimensionUseLocalWeather](../接口/世界/天气.md#getdimensionuselocalweather)(服务端)， 获取某个维度是否拥有自己的天气规则<!--by hdy-->

1. 新增[SetDimensionLocalRain](../接口/世界/天气.md#setdimensionlocalrain)(服务端)， 设置某个维度下雨(必须先使用SetDimensionUseLocalWeather接口设置此维度拥有自己的独立天气)<!--by hdy-->

1. 新增[SetDimensionLocalThunder](../接口/世界/天气.md#setdimensionlocalthunder)(服务端)， 设置某个维度打雷(必须先使用SetDimensionUseLocalWeather接口设置此维度拥有自己的独立天气)<!--by hdy-->

1. 新增[SetDimensionLocalDoWeatherCycle](../接口/世界/天气.md#setdimensionlocaldoweathercycle)(服务端)， 设置某个维度是否开启天气循环(必须先使用SetDimensionUseLocalWeather接口设置此维度拥有自己的独立天气)<!--by hdy-->

1. 新增[GetDimensionLocalWeatherInfo](../接口/世界/天气.md#getdimensionlocalweatherinfo)(服务端)， 获取独立维度天气信息(必须先使用SetDimensionUseLocalWeather接口设置此维度拥有自己的独立天气)<!--by hdy-->

1. 新增[RegisterOnStandOn](../事件/方块.md#registeronstandon)(客户端)， 可以动态注册与修改原版方块的netease:on_stand_on组件（客户端接口）<!--by likaiyu-->

1. 新增[UnRegisterOnStandOn](../事件/方块.md#unregisteronstandon)(客户端)， 可以动态删除原版方块的netease:on_stand_on组件（客户端接口）<!--by likaiyu-->

1. 新增[RegisterOnStepOn](../事件/方块.md#registeronstepon)(客户端)， 可以动态注册与修改原版方块的netease:on_step_on组件（客户端接口）<!--by likaiyu-->

1. 新增[UnRegisterOnStepOn](../事件/方块.md#unregisteronstepon)(客户端)， 可以动态删除原版方块的netease:on_step_on组件（客户端接口）<!--by likaiyu-->

1. 新增[RegisterOnStepOff](../事件/方块.md#registeronstepoff)(客户端)， 可以动态注册与修改原版方块的netease:on_step_off组件（客户端接口）<!--by likaiyu-->

1. 新增[UnRegisterOnStepOff](../事件/方块.md#unregisteronstepoff)(客户端)， 可以动态删除原版方块的netease:on_step_off组件（客户端接口）<!--by likaiyu-->

1. 新增[RegisterOnEntityInside](../事件/方块.md#registeronentityinside)(客户端)， 可以动态注册与修改原版方块的netease:on_entity_inside组件（客户端接口）<!--by likaiyu-->

1. 新增[UnRegisterOnEntityInside](../事件/方块.md#unregisteronentityinside)(客户端)， 可以动态删除原版方块的netease:on_entity_inside组件（客户端接口）<!--by likaiyu-->

1. 新增[SetEnableGaussianBlur](../接口/后处理/模糊.md#setenablegaussianblur)(客户端)， 是否开启高斯模糊效果<!--by xujiarong-->

1. 新增[CheckGaussianBlurEnabled](../接口/后处理/模糊.md#checkgaussianblurenabled)(客户端)， 检测是否开启高斯模糊效果<!--by xujiarong-->

1. 新增[SetGaussianBlurRadius](../接口/后处理/模糊.md#setgaussianblurradius)(客户端)， 设置高斯模糊效果的模糊半径<!--by xujiarong-->

1. 新增[SetEnableColorAdjustment](../接口/后处理/色彩.md#setenablecoloradjustment)(客户端)， 是否开启色彩校正效果<!--by xujiarong-->

1. 新增[CheckColorAdjustmentEnabled](../接口/后处理/色彩.md#checkcoloradjustmentenabled)(客户端)， 检测是否开启色彩校正效果<!--by xujiarong-->

1. 新增[SetColorAdjustmentBrightness](../接口/后处理/色彩.md#setcoloradjustmentbrightness)(客户端)， 调整屏幕色彩亮度值<!--by xujiarong-->

1. 新增[SetColorAdjustmentSaturation](../接口/后处理/色彩.md#setcoloradjustmentsaturation)(客户端)， 调整屏幕色彩饱和度<!--by xujiarong-->

1. 新增[SetColorAdjustmentContrast](../接口/后处理/色彩.md#setcoloradjustmentcontrast)(客户端)， 调整屏幕色彩对比度<!--by xujiarong-->

1. 新增[SetColorAdjustmentTint](../接口/后处理/色彩.md#setcoloradjustmenttint)(客户端)， 调整屏幕色彩的色调<!--by xujiarong-->

1. 新增[SetEnableLensStain](../接口/后处理/镜头效果.md#setenablelensstain)(客户端)， 是否开启镜头污迹效果<!--by xujiarong-->

1. 新增[CheckLensStainEnabled](../接口/后处理/镜头效果.md#checklensstainenabled)(客户端)， 检测是否开启镜头污迹效果<!--by xujiarong-->

1. 新增[SetLensStainTexture](../接口/后处理/镜头效果.md#setlensstaintexture)(客户端)， 改变镜头污迹所使用的贴图<!--by xujiarong-->

1. 新增[ResetLensStainTexture](../接口/后处理/镜头效果.md#resetlensstaintexture)(客户端)， 重置镜头污迹所使用的贴图为系统默认贴图<!--by xujiarong-->

1. 新增[SetLensStainIntensity](../接口/后处理/镜头效果.md#setlensstainintensity)(客户端)， 调整镜头污迹强度<!--by xujiarong-->

1. 新增[SetLensStainColor](../接口/后处理/镜头效果.md#setlensstaincolor)(客户端)， 调整镜头污迹颜色<!--by xujiarong-->

1. 新增[SetEnableDepthOfField](../接口/后处理/镜头效果.md#setenabledepthoffield)(客户端)， 是否开启景深效果<!--by xujiarong-->

1. 新增[CheckDepthOfFieldEnabled](../接口/后处理/镜头效果.md#checkdepthoffieldenabled)(客户端)， 检测是否开启景深效果<!--by xujiarong-->

1. 新增[SetDepthOfFieldFocusDistance](../接口/后处理/镜头效果.md#setdepthoffieldfocusdistance)(客户端)， 调整景深效果焦点距离<!--by xujiarong-->

1. 新增[SetDepthOfFieldBlurRadius](../接口/后处理/镜头效果.md#setdepthoffieldblurradius)(客户端)， 调整景深效果模糊半径<!--by xujiarong-->

1. 新增[SetDepthOfFieldNearBlurScale](../接口/后处理/镜头效果.md#setdepthoffieldnearblurscale)(客户端)， 调整景深效果近景模糊大小<!--by xujiarong-->

1. 新增[SetDepthOfFieldFarBlurScale](../接口/后处理/镜头效果.md#setdepthoffieldfarblurscale)(客户端)， 调整景深效果远景模糊大小<!--by xujiarong-->

1. 新增[SetDepthOfFieldUseCenterFocus](../接口/后处理/镜头效果.md#setdepthoffieldusecenterfocus)(客户端)， 设置景深效果是否开启屏幕中心聚焦模式<!--by xujiarong-->

1. 新增[ModelCreateMinecraftObject](../接口/虚拟世界/模型.md#modelcreateminecraftobject)(客户端)， 在虚拟世界中创建微软原版模型<!--by sutao-->

1. 新增[ModelUpdateAnimationMolangVariable](../接口/虚拟世界/模型.md#modelupdateanimationmolangvariable)(客户端)， 更新微软原版模型表达式变量，可控制动作的改变<!--by sutao-->

1. 新增[asNeteaseComboBox](../接口/自定义UI/UI控件.md#asneteasecombobox)(客户端)， UI面向对象<!--by panlei-->

1. 新增[AddOption](../接口/自定义UI/UI控件.md#addoption)(客户端)， 添加下拉框项<!--by panlei01-->

1. 新增[ClearOptions](../接口/自定义UI/UI控件.md#clearoptions)(客户端)， 清空下拉框<!--by panlei01-->

1. 新增[ClearSelection](../接口/自定义UI/UI控件.md#clearselection)(客户端)， 清除当前选中<!--by panlei01-->

1. 新增[GetOptionIndexByShowName](../接口/自定义UI/UI控件.md#getoptionindexbyshowname)(客户端)， 根据展示文本查找对应下拉框项的索引位置<!--by panlei01-->

1. 新增[GetOptionShowNameByIndex](../接口/自定义UI/UI控件.md#getoptionshownamebyindex)(客户端)， 根据索引位置查找当前栈式文本<!--by panlei01-->

1. 新增[GetOptionCount](../接口/自定义UI/UI控件.md#getoptioncount)(客户端)， 获得选项数量<!--by panlei01-->

1. 新增[GetSelectOptionIndex](../接口/自定义UI/UI控件.md#getselectoptionindex)(客户端)， 获得当前选中项的索引<!--by panlei01-->

1. 新增[GetSelectOptionShowName](../接口/自定义UI/UI控件.md#getselectoptionshowname)(客户端)， 获得当前选中项的展示文本<!--by panlei01-->

1. 新增[RemoveOptionByShowName](../接口/自定义UI/UI控件.md#removeoptionbyshowname)(客户端)， 根据提供的展示文本移除对应下拉框项<!--by panlei01-->

1. 新增[RemoveOptionByIndex](../接口/自定义UI/UI控件.md#removeoptionbyindex)(客户端)， 根据提供的索引移除对应下拉框项<!--by panlei01-->

1. 新增[SetSelectOptionByIndex](../接口/自定义UI/UI控件.md#setselectoptionbyindex)(客户端)， 根据提供的索引移除对应下拉框项<!--by panlei01-->

1. 新增[SetSelectOptionByShowName](../接口/自定义UI/UI控件.md#setselectoptionbyshowname)(客户端)， 根据提供的展示文本选中对应下拉框项<!--by panlei01-->

1. 新增[RegisterOpenComboBoxCallback](../接口/自定义UI/UI控件.md#registeropencomboboxcallback)(客户端)， 注册展开下拉框事件回调<!--by panlei01-->

1. 新增[RegisterCloseComboBoxCallback](../接口/自定义UI/UI控件.md#registerclosecomboboxcallback)(客户端)， 注册关闭下拉框事件回调<!--by panlei01-->

1. 新增[RegisterSelectItemCallback](../接口/自定义UI/UI控件.md#registerselectitemcallback)(客户端)， 注册选中下拉框内容事件回调<!--by panlei01-->

1. 新增[StepOffBlockServerEvent](../事件/方块.md#stepoffblockserverevent)(服务端)， 新增实体移动离开一个实心方块时触发的事件<!--by likaiyu-->

1. 新增[PlayerIntendLeaveServerEvent](../事件/世界.md#playerintendleaveserverevent)(服务端)， 即将删除玩家事件，此时可以通过各种API获取玩家的当前状态。<!--by xltang-->

1. 新增[OnEntityInsideBlockServerEvent](../事件/方块.md#onentityinsideblockserverevent)(服务端)， 增加当实体碰撞盒所在区域有方块时服务端持续触发的事件<!--by likaiyu-->

1. 新增[OnLocalRainLevelChangeServerEvent](../事件/世界.md#onlocalrainlevelchangeserverevent)(服务端)， 独立维度天气下雨强度发生改变时触发<!--by hdy-->

1. 新增[OnLocalLightningLevelChangeServerEvent](../事件/世界.md#onlocallightninglevelchangeserverevent)(服务端)， 独立维度天气打雷强度发生改变时触发<!--by hdy-->

1. 新增[StepOffBlockClientEvent](../事件/方块.md#stepoffblockclientevent)(客户端)， 新增实体移动离开一个实心方块时触发的事件<!--by likaiyu-->

1. 新增[OnEntityInsideBlockClientEvent](../事件/方块.md#onentityinsideblockclientevent)(客户端)， 增加当实体碰撞盒所在区域有方块时客户端持续触发的事件<!--by likaiyu-->

1. 新增[PlayerTryDropItemClientEvent](../事件/物品.md#playertrydropitemclientevent)(客户端)， 新增客户端玩家尝试丢弃物品的事件。<!--by guanmingyu-->

1. 新增[InventoryType](../枚举值/InventoryType.md)， 添加自定义分页枚举<!--by hdy-->

- 调整

1. 调整[PlaceStructure](../接口/世界/地图.md#placestructure)(服务端)， 添加默认参数rotation，默认为0，可将放置的结构体沿y轴进行旋转<!--by hdy-->

1. 调整[GetRecipesByResult](../接口/世界/配方.md#getrecipesbyresult)(服务端)， 熔炉配方支持返回输出物品的数量<!--by czh-->

1. 调整[GetRecipesByInput](../接口/世界/配方.md#getrecipesbyinput)(服务端)， 熔炉配方支持返回输出物品的数量<!--by czh-->

1. 调整[GetRecipesByResult](../接口/世界/配方.md#getrecipesbyresult)(客户端)， 熔炉配方支持返回输出物品的数量<!--by czh-->

1. 调整[GetRecipesByInput](../接口/世界/配方.md#getrecipesbyinput)(客户端)， 熔炉配方支持返回输出物品的数量<!--by czh-->

1. 调整[SetToggleState](../接口/自定义UI/UI控件.md#settogglestate)(客户端)， 新增参数，可调整toggle路径<!--by panlei01-->

1. 调整[ServerSpawnMobEvent](../事件/世界.md#serverspawnmobevent)(服务端)， 新增realIdentifier参数<!--by guanmingyu-->

1. 调整[StepOnBlockServerEvent](../事件/方块.md#steponblockserverevent)(服务端)， 重大触发机制调整、备注说明更新<!--by likaiyu-->

1. 调整[OnStandOnBlockServerEvent](../事件/方块.md#onstandonblockserverevent)(服务端)， 增加了cancel、dimensionId参数，优化了备注文档说明<!--by likaiyu-->

1. 调整[StepOnBlockClientEvent](../事件/方块.md#steponblockclientevent)(客户端)， 重大触发机制调整、备注说明更新<!--by likaiyu-->

1. 调整[OnStandOnBlockClientEvent](../事件/方块.md#onstandonblockclientevent)(客户端)， 新增cancel、dimensionId参数<!--by likaiyu-->

- 修复

1. 修复[SetPlayerGameType](../接口/玩家/游戏模式.md#setplayergametype)(服务端)， 修复了在AddServerPlayerEvent中使用会导致崩溃的问题<!--by czh-->

1. 修复[PerspChangeClientEvent](../事件/玩家.md#perspchangeclientevent)(客户端)， 修复了在设置界面切换视角时不会触发该事件的问题<!--by likaiyu-->

- 废弃（将在未来不可用）

1. 废弃CreateEngineEffect，请使用CreateEngineEffectBind

1. 废弃ClearPlayerOffHand，已废弃，请使用SetEntityItem，itemDict传None即可

1. 废弃SetInvItemDurability，已废弃，请使用SetItemDurability

1. 废弃GetInvItemDurability，已废弃，请使用GetItemDurability

1. 废弃SetEquItemDurability，已废弃，请使用SetItemDurability

1. 废弃GetEquItemDurability，已废弃，请使用GetItemDurability

